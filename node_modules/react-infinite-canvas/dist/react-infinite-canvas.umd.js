(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode("._dotSvgContainer_64xbd_1{position:absolute;width:100%;height:100%;inset-block-start:0;inset-inline-start:0}._container_1xxyl_1{position:relative;overflow:hidden;width:100%;height:100%}._canvasWrapper_1xxyl_8{position:relative;width:100%;height:100%;overflow:hidden;background-color:var(--kf-color-bg-gray);cursor:grab;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._canvasWrapper_1xxyl_8._panning_1xxyl_21{cursor:grabbing}._canvas_1xxyl_8{position:relative;z-index:2;width:100%;height:100%}._canvas_1xxyl_8>div:first-of-type{position:absolute;inset-inline-start:0;inset-block-start:0;transition:transform .01s ease}._contentWrapper_1xxyl_39{position:absolute}._verticalScrollBar_17thb_1{position:absolute;inset-inline-end:2px;inset-block-start:0;inset-block-end:0;background:transparent}._horizontalScrollBar_17thb_9{position:absolute;inset-block-end:2px;inset-inline-start:0;inset-inline-end:0;background:transparent}._verticalScrollBar_17thb_1>div,._horizontalScrollBar_17thb_9>div{position:absolute;border-radius:50px;z-index:8;cursor:pointer}._verticalScrollBar_17thb_1>div{width:100%}._horizontalScrollBar_17thb_9>div{height:100%}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(ht,M){typeof exports=="object"&&typeof module<"u"?M(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],M):(ht=typeof globalThis<"u"?globalThis:ht||self,M(ht.ReactInfiniteCanvas={},ht.React))})(this,function(ht,M){"use strict";var me={exports:{}},zt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ye,Ge;function Be(){if(Ge)return ye;Ge=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function i(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var o={},s=0;s<10;s++)o["_"+String.fromCharCode(s)]=s;var l=Object.getOwnPropertyNames(o).map(function(c){return o[c]});if(l.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(c){h[c]=c}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return ye=i()?Object.assign:function(a,o){for(var s,l=r(a),h,c=1;c<arguments.length;c++){s=Object(arguments[c]);for(var _ in s)e.call(s,_)&&(l[_]=s[_]);if(t){h=t(s);for(var p=0;p<h.length;p++)n.call(s,h[p])&&(l[h[p]]=s[h[p]])}}return l},ye}/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke;function nr(){if(Ke)return zt;Ke=1,Be();var t=M,e=60103;if(zt.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var n=Symbol.for;e=n("react.element"),zt.Fragment=n("react.fragment")}var r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,h){var c,_={},p=null,y=null;h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(y=l.ref);for(c in l)i.call(l,c)&&!a.hasOwnProperty(c)&&(_[c]=l[c]);if(s&&s.defaultProps)for(c in l=s.defaultProps,l)_[c]===void 0&&(_[c]=l[c]);return{$$typeof:e,type:s,key:p,ref:y,props:_,_owner:r.current}}return zt.jsx=o,zt.jsxs=o,zt}var we={};/** @license React v17.0.2
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze;function rr(){return Ze||(Ze=1,function(t){process.env.NODE_ENV!=="production"&&function(){var e=M,n=Be(),r=60103,i=60106;t.Fragment=60107;var a=60108,o=60114,s=60109,l=60110,h=60112,c=60113,_=60120,p=60115,y=60116,O=60121,T=60122,I=60117,x=60129,L=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;r=C("react.element"),i=C("react.portal"),t.Fragment=C("react.fragment"),a=C("react.strict_mode"),o=C("react.profiler"),s=C("react.provider"),l=C("react.context"),h=C("react.forward_ref"),c=C("react.suspense"),_=C("react.suspense_list"),p=C("react.memo"),y=C("react.lazy"),O=C("react.block"),T=C("react.server.block"),I=C("react.fundamental"),C("react.scope"),C("react.opaque.id"),x=C("react.debug_trace_mode"),C("react.offscreen"),L=C("react.legacy_hidden")}var W=typeof Symbol=="function"&&Symbol.iterator,Q="@@iterator";function V(u){if(u===null||typeof u!="object")return null;var g=W&&u[W]||u[Q];return typeof g=="function"?g:null}var D=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function A(u){{for(var g=arguments.length,w=new Array(g>1?g-1:0),R=1;R<g;R++)w[R-1]=arguments[R];j("error",u,w)}}function j(u,g,w){{var R=D.ReactDebugCurrentFrame,F=R.getStackAddendum();F!==""&&(g+="%s",w=w.concat([F]));var X=w.map(function($){return""+$});X.unshift("Warning: "+g),Function.prototype.apply.call(console[u],console,X)}}var at=!1;function ft(u){return!!(typeof u=="string"||typeof u=="function"||u===t.Fragment||u===o||u===x||u===a||u===c||u===_||u===L||at||typeof u=="object"&&u!==null&&(u.$$typeof===y||u.$$typeof===p||u.$$typeof===s||u.$$typeof===l||u.$$typeof===h||u.$$typeof===I||u.$$typeof===O||u[0]===T))}function P(u,g,w){var R=g.displayName||g.name||"";return u.displayName||(R!==""?w+"("+R+")":w)}function Y(u){return u.displayName||"Context"}function f(u){if(u==null)return null;if(typeof u.tag=="number"&&A("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case t.Fragment:return"Fragment";case i:return"Portal";case o:return"Profiler";case a:return"StrictMode";case c:return"Suspense";case _:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case l:var g=u;return Y(g)+".Consumer";case s:var w=u;return Y(w._context)+".Provider";case h:return P(u,u.render,"ForwardRef");case p:return f(u.type);case O:return f(u._render);case y:{var R=u,F=R._payload,X=R._init;try{return f(X(F))}catch{return null}}}return null}var v=0,d,m,b,E,S,z,N;function q(){}q.__reactDisabledLog=!0;function H(){{if(v===0){d=console.log,m=console.info,b=console.warn,E=console.error,S=console.group,z=console.groupCollapsed,N=console.groupEnd;var u={configurable:!0,enumerable:!0,value:q,writable:!0};Object.defineProperties(console,{info:u,log:u,warn:u,error:u,group:u,groupCollapsed:u,groupEnd:u})}v++}}function G(){{if(v--,v===0){var u={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:n({},u,{value:d}),info:n({},u,{value:m}),warn:n({},u,{value:b}),error:n({},u,{value:E}),group:n({},u,{value:S}),groupCollapsed:n({},u,{value:z}),groupEnd:n({},u,{value:N})})}v<0&&A("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var K=D.ReactCurrentDispatcher,Z;function tt(u,g,w){{if(Z===void 0)try{throw Error()}catch(F){var R=F.stack.trim().match(/\n( *(at )?)/);Z=R&&R[1]||""}return`
`+Z+u}}var ot=!1,bt;{var Dt=typeof WeakMap=="function"?WeakMap:Map;bt=new Dt}function Ct(u,g){if(!u||ot)return"";{var w=bt.get(u);if(w!==void 0)return w}var R;ot=!0;var F=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var X;X=K.current,K.current=null,H();try{if(g){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(yt){R=yt}Reflect.construct(u,[],$)}else{try{$.call()}catch(yt){R=yt}u.call($.prototype)}}else{try{throw Error()}catch(yt){R=yt}u()}}catch(yt){if(yt&&R&&typeof yt.stack=="string"){for(var k=yt.stack.split(`
`),rt=R.stack.split(`
`),B=k.length-1,J=rt.length-1;B>=1&&J>=0&&k[B]!==rt[J];)J--;for(;B>=1&&J>=0;B--,J--)if(k[B]!==rt[J]){if(B!==1||J!==1)do if(B--,J--,J<0||k[B]!==rt[J]){var mt=`
`+k[B].replace(" at new "," at ");return typeof u=="function"&&bt.set(u,mt),mt}while(B>=1&&J>=0);break}}}finally{ot=!1,K.current=X,G(),Error.prepareStackTrace=F}var $t=u?u.displayName||u.name:"",er=$t?tt($t):"";return typeof u=="function"&&bt.set(u,er),er}function Ot(u,g,w){return Ct(u,!1)}function He(u){var g=u.prototype;return!!(g&&g.isReactComponent)}function At(u,g,w){if(u==null)return"";if(typeof u=="function")return Ct(u,He(u));if(typeof u=="string")return tt(u);switch(u){case c:return tt("Suspense");case _:return tt("SuspenseList")}if(typeof u=="object")switch(u.$$typeof){case h:return Ot(u.render);case p:return At(u.type,g,w);case O:return Ot(u._render);case y:{var R=u,F=R._payload,X=R._init;try{return At(X(F),g,w)}catch{}}}return""}var Zt={},ge=D.ReactDebugCurrentFrame;function Nt(u){if(u){var g=u._owner,w=At(u.type,u._source,g?g.type:null);ge.setExtraStackFrame(w)}else ge.setExtraStackFrame(null)}function ve(u,g,w,R,F){{var X=Function.call.bind(Object.prototype.hasOwnProperty);for(var $ in u)if(X(u,$)){var k=void 0;try{if(typeof u[$]!="function"){var rt=Error((R||"React class")+": "+w+" type `"+$+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof u[$]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw rt.name="Invariant Violation",rt}k=u[$](g,$,R,w,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(B){k=B}k&&!(k instanceof Error)&&(Nt(F),A("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",R||"React class",w,$,typeof k),Nt(null)),k instanceof Error&&!(k.message in Zt)&&(Zt[k.message]=!0,Nt(F),A("Failed %s type: %s",w,k.message),Nt(null))}}}var Jt=D.ReactCurrentOwner,je=Object.prototype.hasOwnProperty,Yo={key:!0,ref:!0,__self:!0,__source:!0},qn,Gn,Ue;Ue={};function Fo(u){if(je.call(u,"ref")){var g=Object.getOwnPropertyDescriptor(u,"ref").get;if(g&&g.isReactWarning)return!1}return u.ref!==void 0}function Xo(u){if(je.call(u,"key")){var g=Object.getOwnPropertyDescriptor(u,"key").get;if(g&&g.isReactWarning)return!1}return u.key!==void 0}function Ho(u,g){if(typeof u.ref=="string"&&Jt.current&&g&&Jt.current.stateNode!==g){var w=f(Jt.current.type);Ue[w]||(A('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',f(Jt.current.type),u.ref),Ue[w]=!0)}}function jo(u,g){{var w=function(){qn||(qn=!0,A("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};w.isReactWarning=!0,Object.defineProperty(u,"key",{get:w,configurable:!0})}}function Uo(u,g){{var w=function(){Gn||(Gn=!0,A("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};w.isReactWarning=!0,Object.defineProperty(u,"ref",{get:w,configurable:!0})}}var Vo=function(u,g,w,R,F,X,$){var k={$$typeof:r,type:u,key:g,ref:w,props:$,_owner:X};return k._store={},Object.defineProperty(k._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(k,"_self",{configurable:!1,enumerable:!1,writable:!1,value:R}),Object.defineProperty(k,"_source",{configurable:!1,enumerable:!1,writable:!1,value:F}),Object.freeze&&(Object.freeze(k.props),Object.freeze(k)),k};function Wo(u,g,w,R,F){{var X,$={},k=null,rt=null;w!==void 0&&(k=""+w),Xo(g)&&(k=""+g.key),Fo(g)&&(rt=g.ref,Ho(g,F));for(X in g)je.call(g,X)&&!Yo.hasOwnProperty(X)&&($[X]=g[X]);if(u&&u.defaultProps){var B=u.defaultProps;for(X in B)$[X]===void 0&&($[X]=B[X])}if(k||rt){var J=typeof u=="function"?u.displayName||u.name||"Unknown":u;k&&jo($,J),rt&&Uo($,J)}return Vo(u,k,rt,F,R,Jt.current,$)}}var Ve=D.ReactCurrentOwner,Bn=D.ReactDebugCurrentFrame;function kt(u){if(u){var g=u._owner,w=At(u.type,u._source,g?g.type:null);Bn.setExtraStackFrame(w)}else Bn.setExtraStackFrame(null)}var We;We=!1;function qe(u){return typeof u=="object"&&u!==null&&u.$$typeof===r}function Kn(){{if(Ve.current){var u=f(Ve.current.type);if(u)return`

Check the render method of \``+u+"`."}return""}}function qo(u){{if(u!==void 0){var g=u.fileName.replace(/^.*[\\\/]/,""),w=u.lineNumber;return`

Check your code at `+g+":"+w+"."}return""}}var Zn={};function Go(u){{var g=Kn();if(!g){var w=typeof u=="string"?u:u.displayName||u.name;w&&(g=`

Check the top-level render call using <`+w+">.")}return g}}function Jn(u,g){{if(!u._store||u._store.validated||u.key!=null)return;u._store.validated=!0;var w=Go(g);if(Zn[w])return;Zn[w]=!0;var R="";u&&u._owner&&u._owner!==Ve.current&&(R=" It was passed a child from "+f(u._owner.type)+"."),kt(u),A('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',w,R),kt(null)}}function Qn(u,g){{if(typeof u!="object")return;if(Array.isArray(u))for(var w=0;w<u.length;w++){var R=u[w];qe(R)&&Jn(R,g)}else if(qe(u))u._store&&(u._store.validated=!0);else if(u){var F=V(u);if(typeof F=="function"&&F!==u.entries)for(var X=F.call(u),$;!($=X.next()).done;)qe($.value)&&Jn($.value,g)}}}function Bo(u){{var g=u.type;if(g==null||typeof g=="string")return;var w;if(typeof g=="function")w=g.propTypes;else if(typeof g=="object"&&(g.$$typeof===h||g.$$typeof===p))w=g.propTypes;else return;if(w){var R=f(g);ve(w,u.props,"prop",R,u)}else if(g.PropTypes!==void 0&&!We){We=!0;var F=f(g);A("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",F||"Unknown")}typeof g.getDefaultProps=="function"&&!g.getDefaultProps.isReactClassApproved&&A("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ko(u){{for(var g=Object.keys(u.props),w=0;w<g.length;w++){var R=g[w];if(R!=="children"&&R!=="key"){kt(u),A("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",R),kt(null);break}}u.ref!==null&&(kt(u),A("Invalid attribute `ref` supplied to `React.Fragment`."),kt(null))}}function tr(u,g,w,R,F,X){{var $=ft(u);if(!$){var k="";(u===void 0||typeof u=="object"&&u!==null&&Object.keys(u).length===0)&&(k+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var rt=qo(F);rt?k+=rt:k+=Kn();var B;u===null?B="null":Array.isArray(u)?B="array":u!==void 0&&u.$$typeof===r?(B="<"+(f(u.type)||"Unknown")+" />",k=" Did you accidentally export a JSX literal instead of a component?"):B=typeof u,A("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",B,k)}var J=Wo(u,g,w,F,X);if(J==null)return J;if($){var mt=g.children;if(mt!==void 0)if(R)if(Array.isArray(mt)){for(var $t=0;$t<mt.length;$t++)Qn(mt[$t],u);Object.freeze&&Object.freeze(mt)}else A("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Qn(mt,u)}return u===t.Fragment?Ko(J):Bo(J),J}}function Zo(u,g,w){return tr(u,g,w,!0)}function Jo(u,g,w){return tr(u,g,w,!1)}var Qo=Jo,ts=Zo;t.jsx=Qo,t.jsxs=ts}()}(we)),we}process.env.NODE_ENV==="production"?me.exports=nr():me.exports=rr();var U=me.exports,xe="http://www.w3.org/1999/xhtml";const Je={svg:"http://www.w3.org/2000/svg",xhtml:xe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Je.hasOwnProperty(e)?{space:Je[e],local:t}:t}function ir(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xe&&e.documentElement.namespaceURI===xe?e.createElement(t):e.createElementNS(n,t)}}function ar(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Qe(t){var e=Qt(t);return(e.local?ar:ir)(e)}function or(){}function be(t){return t==null?or:function(){return this.querySelector(t)}}function sr(t){typeof t!="function"&&(t=be(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),l,h,c=0;c<o;++c)(l=a[c])&&(h=t.call(l,l.__data__,c,a))&&("__data__"in l&&(h.__data__=l.__data__),s[c]=h);return new st(r,this._parents)}function ur(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function cr(){return[]}function tn(t){return t==null?cr:function(){return this.querySelectorAll(t)}}function lr(t){return function(){return ur(t.apply(this,arguments))}}function fr(t){typeof t=="function"?t=lr(t):t=tn(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,h=0;h<s;++h)(l=o[h])&&(r.push(t.call(l,l.__data__,h,o)),i.push(l));return new st(r,i)}function en(t){return function(){return this.matches(t)}}function nn(t){return function(e){return e.matches(t)}}var hr=Array.prototype.find;function dr(t){return function(){return hr.call(this.children,t)}}function pr(){return this.firstElementChild}function _r(t){return this.select(t==null?pr:dr(typeof t=="function"?t:nn(t)))}var gr=Array.prototype.filter;function vr(){return Array.from(this.children)}function mr(t){return function(){return gr.call(this.children,t)}}function yr(t){return this.selectAll(t==null?vr:mr(typeof t=="function"?t:nn(t)))}function wr(t){typeof t!="function"&&(t=en(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,h=0;h<o;++h)(l=a[h])&&t.call(l,l.__data__,h,a)&&s.push(l);return new st(r,this._parents)}function rn(t){return new Array(t.length)}function xr(){return new st(this._enter||this._groups.map(rn),this._parents)}function te(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}te.prototype={constructor:te,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function br(t){return function(){return t}}function Er(t,e,n,r,i,a){for(var o=0,s,l=e.length,h=a.length;o<h;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new te(t,a[o]);for(;o<l;++o)(s=e[o])&&(i[o]=s)}function Sr(t,e,n,r,i,a,o){var s,l,h=new Map,c=e.length,_=a.length,p=new Array(c),y;for(s=0;s<c;++s)(l=e[s])&&(p[s]=y=o.call(l,l.__data__,s,e)+"",h.has(y)?i[s]=l:h.set(y,l));for(s=0;s<_;++s)y=o.call(t,a[s],s,a)+"",(l=h.get(y))?(r[s]=l,l.__data__=a[s],h.delete(y)):n[s]=new te(t,a[s]);for(s=0;s<c;++s)(l=e[s])&&h.get(p[s])===l&&(i[s]=l)}function Tr(t){return t.__data__}function Rr(t,e){if(!arguments.length)return Array.from(this,Tr);var n=e?Sr:Er,r=this._parents,i=this._groups;typeof t!="function"&&(t=br(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),h=0;h<a;++h){var c=r[h],_=i[h],p=_.length,y=Cr(t.call(c,c&&c.__data__,h,r)),O=y.length,T=s[h]=new Array(O),I=o[h]=new Array(O),x=l[h]=new Array(p);n(c,_,T,I,x,y,e);for(var L=0,C=0,W,Q;L<O;++L)if(W=T[L]){for(L>=C&&(C=L+1);!(Q=I[C])&&++C<O;);W._next=Q||null}}return o=new st(o,r),o._enter=s,o._exit=l,o}function Cr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Or(){return new st(this._exit||this._groups.map(rn),this._parents)}function Ar(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Nr(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var h=n[l],c=r[l],_=h.length,p=s[l]=new Array(_),y,O=0;O<_;++O)(y=h[O]||c[O])&&(p[O]=y);for(;l<i;++l)s[l]=n[l];return new st(s,this._parents)}function zr(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Pr(t){t||(t=Ir);function e(_,p){return _&&p?t(_.__data__,p.__data__):!_-!p}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),h,c=0;c<s;++c)(h=o[c])&&(l[c]=h);l.sort(e)}return new st(i,this._parents).order()}function Ir(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Mr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Dr(){return Array.from(this)}function kr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function $r(){let t=0;for(const e of this)++t;return t}function Lr(){return!this.node()}function Yr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Fr(t){return function(){this.removeAttribute(t)}}function Xr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hr(t,e){return function(){this.setAttribute(t,e)}}function jr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ur(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Vr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Wr(t,e){var n=Qt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Xr:Fr:typeof e=="function"?n.local?Vr:Ur:n.local?jr:Hr)(n,e))}function an(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qr(t){return function(){this.style.removeProperty(t)}}function Gr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Br(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Kr(t,e,n){return arguments.length>1?this.each((e==null?qr:typeof e=="function"?Br:Gr)(t,e,n??"")):Pt(this.node(),t)}function Pt(t,e){return t.style.getPropertyValue(e)||an(t).getComputedStyle(t,null).getPropertyValue(e)}function Zr(t){return function(){delete this[t]}}function Jr(t,e){return function(){this[t]=e}}function Qr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ti(t,e){return arguments.length>1?this.each((e==null?Zr:typeof e=="function"?Qr:Jr)(t,e)):this.node()[t]}function on(t){return t.trim().split(/^|\s+/)}function Ee(t){return t.classList||new sn(t)}function sn(t){this._node=t,this._names=on(t.getAttribute("class")||"")}sn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function un(t,e){for(var n=Ee(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function cn(t,e){for(var n=Ee(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ei(t){return function(){un(this,t)}}function ni(t){return function(){cn(this,t)}}function ri(t,e){return function(){(e.apply(this,arguments)?un:cn)(this,t)}}function ii(t,e){var n=on(t+"");if(arguments.length<2){for(var r=Ee(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ri:e?ei:ni)(n,e))}function ai(){this.textContent=""}function oi(t){return function(){this.textContent=t}}function si(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ui(t){return arguments.length?this.each(t==null?ai:(typeof t=="function"?si:oi)(t)):this.node().textContent}function ci(){this.innerHTML=""}function li(t){return function(){this.innerHTML=t}}function fi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function hi(t){return arguments.length?this.each(t==null?ci:(typeof t=="function"?fi:li)(t)):this.node().innerHTML}function di(){this.nextSibling&&this.parentNode.appendChild(this)}function pi(){return this.each(di)}function _i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gi(){return this.each(_i)}function vi(t){var e=typeof t=="function"?t:Qe(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function mi(){return null}function yi(t,e){var n=typeof t=="function"?t:Qe(t),r=e==null?mi:typeof e=="function"?e:be(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function wi(){var t=this.parentNode;t&&t.removeChild(this)}function xi(){return this.each(wi)}function bi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ei(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Si(t){return this.select(t?Ei:bi)}function Ti(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ri(t){return function(e){t.call(this,e,this.__data__)}}function Ci(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Oi(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Ai(t,e,n){return function(){var r=this.__on,i,a=Ri(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Ni(t,e,n){var r=Ci(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,h=s.length,c;l<h;++l)for(i=0,c=s[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?Ai:Oi,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function ln(t,e,n){var r=an(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function zi(t,e){return function(){return ln(this,t,e)}}function Pi(t,e){return function(){return ln(this,t,e.apply(this,arguments))}}function Ii(t,e){return this.each((typeof e=="function"?Pi:zi)(t,e))}function*Mi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var fn=[null];function st(t,e){this._groups=t,this._parents=e}function Lt(){return new st([[document.documentElement]],fn)}function Di(){return this}st.prototype=Lt.prototype={constructor:st,select:sr,selectAll:fr,selectChild:_r,selectChildren:yr,filter:wr,data:Rr,enter:xr,exit:Or,join:Ar,merge:Nr,selection:Di,order:zr,sort:Pr,call:Mr,nodes:Dr,node:kr,size:$r,empty:Lr,each:Yr,attr:Wr,style:Kr,property:ti,classed:ii,text:ui,html:hi,raise:pi,lower:gi,append:vi,insert:yi,remove:xi,clone:Si,datum:Ti,on:Ni,dispatch:Ii,[Symbol.iterator]:Mi};function nt(t){return typeof t=="string"?new st([[document.querySelector(t)]],[document.documentElement]):new st([[t]],fn)}function ki(t){let e;for(;e=t.sourceEvent;)t=e;return t}function wt(t,e){if(t=ki(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var $i={value:()=>{}};function Se(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ee(n)}function ee(t){this._=t}function Li(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ee.prototype=Se.prototype={constructor:ee,on:function(t,e){var n=this._,r=Li(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Yi(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=hn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=hn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ee(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Yi(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function hn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=$i,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const Te={capture:!0,passive:!1};function Re(t){t.preventDefault(),t.stopImmediatePropagation()}function Fi(t){var e=t.document.documentElement,n=nt(t).on("dragstart.drag",Re,Te);"onselectstart"in e?n.on("selectstart.drag",Re,Te):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Xi(t,e){var n=t.document.documentElement,r=nt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Re,Te),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ce(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yt(){}var Ft=.7,ne=1/Ft,It="\\s*([+-]?\\d+)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hi=/^#([0-9a-f]{3,8})$/,ji=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),Ui=new RegExp(`^rgb\\(${dt},${dt},${dt}\\)$`),Vi=new RegExp(`^rgba\\(${It},${It},${It},${Xt}\\)$`),Wi=new RegExp(`^rgba\\(${dt},${dt},${dt},${Xt}\\)$`),qi=new RegExp(`^hsl\\(${Xt},${dt},${dt}\\)$`),Gi=new RegExp(`^hsla\\(${Xt},${dt},${dt},${Xt}\\)$`),pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ce(Yt,Ht,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_n,formatHex:_n,formatHex8:Bi,formatHsl:Ki,formatRgb:gn,toString:gn});function _n(){return this.rgb().formatHex()}function Bi(){return this.rgb().formatHex8()}function Ki(){return xn(this).formatHsl()}function gn(){return this.rgb().formatRgb()}function Ht(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vn(e):n===3?new it(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?re(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?re(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ji.exec(t))?new it(e[1],e[2],e[3],1):(e=Ui.exec(t))?new it(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vi.exec(t))?re(e[1],e[2],e[3],e[4]):(e=Wi.exec(t))?re(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qi.exec(t))?wn(e[1],e[2]/100,e[3]/100,1):(e=Gi.exec(t))?wn(e[1],e[2]/100,e[3]/100,e[4]):pn.hasOwnProperty(t)?vn(pn[t]):t==="transparent"?new it(NaN,NaN,NaN,0):null}function vn(t){return new it(t>>16&255,t>>8&255,t&255,1)}function re(t,e,n,r){return r<=0&&(t=e=n=NaN),new it(t,e,n,r)}function Zi(t){return t instanceof Yt||(t=Ht(t)),t?(t=t.rgb(),new it(t.r,t.g,t.b,t.opacity)):new it}function Oe(t,e,n,r){return arguments.length===1?Zi(t):new it(t,e,n,r??1)}function it(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ce(it,Oe,dn(Yt,{brighter(t){return t=t==null?ne:Math.pow(ne,t),new it(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ft:Math.pow(Ft,t),new it(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new it(Et(this.r),Et(this.g),Et(this.b),ie(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mn,formatHex:mn,formatHex8:Ji,formatRgb:yn,toString:yn}));function mn(){return`#${St(this.r)}${St(this.g)}${St(this.b)}`}function Ji(){return`#${St(this.r)}${St(this.g)}${St(this.b)}${St((isNaN(this.opacity)?1:this.opacity)*255)}`}function yn(){const t=ie(this.opacity);return`${t===1?"rgb(":"rgba("}${Et(this.r)}, ${Et(this.g)}, ${Et(this.b)}${t===1?")":`, ${t})`}`}function ie(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Et(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function St(t){return t=Et(t),(t<16?"0":"")+t.toString(16)}function wn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ct(t,e,n,r)}function xn(t){if(t instanceof ct)return new ct(t.h,t.s,t.l,t.opacity);if(t instanceof Yt||(t=Ht(t)),!t)return new ct;if(t instanceof ct)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ct(o,s,l,t.opacity)}function Qi(t,e,n,r){return arguments.length===1?xn(t):new ct(t,e,n,r??1)}function ct(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ce(ct,Qi,dn(Yt,{brighter(t){return t=t==null?ne:Math.pow(ne,t),new ct(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ft:Math.pow(Ft,t),new ct(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new it(Ae(t>=240?t-240:t+120,i,r),Ae(t,i,r),Ae(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ct(bn(this.h),ae(this.s),ae(this.l),ie(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ie(this.opacity);return`${t===1?"hsl(":"hsla("}${bn(this.h)}, ${ae(this.s)*100}%, ${ae(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bn(t){return t=(t||0)%360,t<0?t+360:t}function ae(t){return Math.max(0,Math.min(1,t||0))}function Ae(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const En=t=>()=>t;function ta(t,e){return function(n){return t+n*e}}function ea(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function na(t){return(t=+t)==1?Sn:function(e,n){return n-e?ea(e,n,t):En(isNaN(e)?n:e)}}function Sn(t,e){var n=e-t;return n?ta(t,n):En(isNaN(t)?e:t)}const Tn=function t(e){var n=na(e);function r(i,a){var o=n((i=Oe(i)).r,(a=Oe(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),h=Sn(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=h(c),i+""}}return r.gamma=t,r}(1);function xt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ne=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ze=new RegExp(Ne.source,"g");function ra(t){return function(){return t}}function ia(t){return function(e){return t(e)+""}}function aa(t,e){var n=Ne.lastIndex=ze.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Ne.exec(t))&&(i=ze.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:xt(r,i)})),n=ze.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?ia(l[0].x):ra(e):(e=l.length,function(h){for(var c=0,_;c<e;++c)s[(_=l[c]).i]=_.x(h);return s.join("")})}var Rn=180/Math.PI,Pe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cn(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Rn,skewX:Math.atan(l)*Rn,scaleX:o,scaleY:s}}var oe;function oa(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Pe:Cn(e.a,e.b,e.c,e.d,e.e,e.f)}function sa(t){return t==null||(oe||(oe=document.createElementNS("http://www.w3.org/2000/svg","g")),oe.setAttribute("transform",t),!(t=oe.transform.baseVal.consolidate()))?Pe:(t=t.matrix,Cn(t.a,t.b,t.c,t.d,t.e,t.f))}function On(t,e,n,r){function i(h){return h.length?h.pop()+" ":""}function a(h,c,_,p,y,O){if(h!==_||c!==p){var T=y.push("translate(",null,e,null,n);O.push({i:T-4,x:xt(h,_)},{i:T-2,x:xt(c,p)})}else(_||p)&&y.push("translate("+_+e+p+n)}function o(h,c,_,p){h!==c?(h-c>180?c+=360:c-h>180&&(h+=360),p.push({i:_.push(i(_)+"rotate(",null,r)-2,x:xt(h,c)})):c&&_.push(i(_)+"rotate("+c+r)}function s(h,c,_,p){h!==c?p.push({i:_.push(i(_)+"skewX(",null,r)-2,x:xt(h,c)}):c&&_.push(i(_)+"skewX("+c+r)}function l(h,c,_,p,y,O){if(h!==_||c!==p){var T=y.push(i(y)+"scale(",null,",",null,")");O.push({i:T-4,x:xt(h,_)},{i:T-2,x:xt(c,p)})}else(_!==1||p!==1)&&y.push(i(y)+"scale("+_+","+p+")")}return function(h,c){var _=[],p=[];return h=t(h),c=t(c),a(h.translateX,h.translateY,c.translateX,c.translateY,_,p),o(h.rotate,c.rotate,_,p),s(h.skewX,c.skewX,_,p),l(h.scaleX,h.scaleY,c.scaleX,c.scaleY,_,p),h=c=null,function(y){for(var O=-1,T=p.length,I;++O<T;)_[(I=p[O]).i]=I.x(y);return _.join("")}}}var ua=On(oa,"px, ","px)","deg)"),ca=On(sa,", ",")",")"),la=1e-12;function An(t){return((t=Math.exp(t))+1/t)/2}function fa(t){return((t=Math.exp(t))-1/t)/2}function ha(t){return((t=Math.exp(2*t))-1)/(t+1)}const da=function t(e,n,r){function i(a,o){var s=a[0],l=a[1],h=a[2],c=o[0],_=o[1],p=o[2],y=c-s,O=_-l,T=y*y+O*O,I,x;if(T<la)x=Math.log(p/h)/e,I=function(D){return[s+D*y,l+D*O,h*Math.exp(e*D*x)]};else{var L=Math.sqrt(T),C=(p*p-h*h+r*T)/(2*h*n*L),W=(p*p-h*h-r*T)/(2*p*n*L),Q=Math.log(Math.sqrt(C*C+1)-C),V=Math.log(Math.sqrt(W*W+1)-W);x=(V-Q)/e,I=function(D){var A=D*x,j=An(Q),at=h/(n*L)*(j*ha(e*A+Q)-fa(Q));return[s+at*y,l+at*O,h*j/An(e*A+Q)]}}return I.duration=x*1e3*e/Math.SQRT2,I}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return t(o,s,l)},i}(Math.SQRT2,2,4);var Mt=0,jt=0,Ut=0,Nn=1e3,se,Vt,ue=0,Tt=0,ce=0,Wt=typeof performance=="object"&&performance.now?performance:Date,zn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ie(){return Tt||(zn(pa),Tt=Wt.now()+ce)}function pa(){Tt=0}function le(){this._call=this._time=this._next=null}le.prototype=Pn.prototype={constructor:le,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ie():+n)+(e==null?0:+e),!this._next&&Vt!==this&&(Vt?Vt._next=this:se=this,Vt=this),this._call=t,this._time=n,Me()},stop:function(){this._call&&(this._call=null,this._time=1/0,Me())}};function Pn(t,e,n){var r=new le;return r.restart(t,e,n),r}function _a(){Ie(),++Mt;for(var t=se,e;t;)(e=Tt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Mt}function In(){Tt=(ue=Wt.now())+ce,Mt=jt=0;try{_a()}finally{Mt=0,va(),Tt=0}}function ga(){var t=Wt.now(),e=t-ue;e>Nn&&(ce-=e,ue=t)}function va(){for(var t,e=se,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:se=n);Vt=t,Me(r)}function Me(t){if(!Mt){jt&&(jt=clearTimeout(jt));var e=t-Tt;e>24?(t<1/0&&(jt=setTimeout(In,t-Wt.now()-ce)),Ut&&(Ut=clearInterval(Ut))):(Ut||(ue=Wt.now(),Ut=setInterval(ga,Nn)),Mt=1,zn(In))}}function Mn(t,e,n){var r=new le;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var ma=Se("start","end","cancel","interrupt"),ya=[],Dn=0,kn=1,De=2,fe=3,$n=4,ke=5,he=6;function de(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;wa(t,n,{name:e,index:r,group:i,on:ma,tween:ya,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Dn})}function $e(t,e){var n=lt(t,e);if(n.state>Dn)throw new Error("too late; already scheduled");return n}function pt(t,e){var n=lt(t,e);if(n.state>fe)throw new Error("too late; already running");return n}function lt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function wa(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Pn(a,0,n.time);function a(h){n.state=kn,n.timer.restart(o,n.delay,n.time),n.delay<=h&&o(h-n.delay)}function o(h){var c,_,p,y;if(n.state!==kn)return l();for(c in r)if(y=r[c],y.name===n.name){if(y.state===fe)return Mn(o);y.state===$n?(y.state=he,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[c]):+c<e&&(y.state=he,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[c])}if(Mn(function(){n.state===fe&&(n.state=$n,n.timer.restart(s,n.delay,n.time),s(h))}),n.state=De,n.on.call("start",t,t.__data__,n.index,n.group),n.state===De){for(n.state=fe,i=new Array(p=n.tween.length),c=0,_=-1;c<p;++c)(y=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++_]=y);i.length=_+1}}function s(h){for(var c=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(l),n.state=ke,1),_=-1,p=i.length;++_<p;)i[_].call(t,c);n.state===ke&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=he,n.timer.stop(),delete r[e];for(var h in r)return;delete t.__transition}}function pe(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>De&&r.state<ke,r.state=he,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function xa(t){return this.each(function(){pe(this,t)})}function ba(t,e){var n,r;return function(){var i=pt(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ea(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=pt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,h=i.length;l<h;++l)if(i[l].name===e){i[l]=s;break}l===h&&i.push(s)}a.tween=i}}function Sa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=lt(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?ba:Ea)(n,t,e))}function Le(t,e,n){var r=t._id;return t.each(function(){var i=pt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return lt(i,r).value[e]}}function Ln(t,e){var n;return(typeof e=="number"?xt:e instanceof Ht?Tn:(n=Ht(e))?(e=n,Tn):aa)(t,e)}function Ta(t){return function(){this.removeAttribute(t)}}function Ra(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ca(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function Oa(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Aa(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function Na(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function za(t,e){var n=Qt(t),r=n==="transform"?ca:Ln;return this.attrTween(t,typeof e=="function"?(n.local?Na:Aa)(n,r,Le(this,"attr."+t,e)):e==null?(n.local?Ra:Ta)(n):(n.local?Oa:Ca)(n,r,e))}function Pa(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ia(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ma(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Ia(t,a)),n}return i._value=e,i}function Da(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Pa(t,a)),n}return i._value=e,i}function ka(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Qt(t);return this.tween(n,(r.local?Ma:Da)(r,e))}function $a(t,e){return function(){$e(this,t).delay=+e.apply(this,arguments)}}function La(t,e){return e=+e,function(){$e(this,t).delay=e}}function Ya(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$a:La)(e,t)):lt(this.node(),e).delay}function Fa(t,e){return function(){pt(this,t).duration=+e.apply(this,arguments)}}function Xa(t,e){return e=+e,function(){pt(this,t).duration=e}}function Ha(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Fa:Xa)(e,t)):lt(this.node(),e).duration}function ja(t,e){if(typeof e!="function")throw new Error;return function(){pt(this,t).ease=e}}function Ua(t){var e=this._id;return arguments.length?this.each(ja(e,t)):lt(this.node(),e).ease}function Va(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;pt(this,t).ease=n}}function Wa(t){if(typeof t!="function")throw new Error;return this.each(Va(this._id,t))}function qa(t){typeof t!="function"&&(t=en(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,h=0;h<o;++h)(l=a[h])&&t.call(l,l.__data__,h,a)&&s.push(l);return new _t(r,this._parents,this._name,this._id)}function Ga(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],h=n[s],c=l.length,_=o[s]=new Array(c),p,y=0;y<c;++y)(p=l[y]||h[y])&&(_[y]=p);for(;s<r;++s)o[s]=e[s];return new _t(o,this._parents,this._name,this._id)}function Ba(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ka(t,e,n){var r,i,a=Ba(e)?$e:pt;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function Za(t,e){var n=this._id;return arguments.length<2?lt(this.node(),n).on.on(t):this.each(Ka(n,t,e))}function Ja(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Qa(){return this.on("end.remove",Ja(this._id))}function to(t){var e=this._name,n=this._id;typeof t!="function"&&(t=be(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,h=a[o]=new Array(l),c,_,p=0;p<l;++p)(c=s[p])&&(_=t.call(c,c.__data__,p,s))&&("__data__"in c&&(_.__data__=c.__data__),h[p]=_,de(h[p],e,n,p,h,lt(c,n)));return new _t(a,this._parents,e,n)}function eo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=tn(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],h=l.length,c,_=0;_<h;++_)if(c=l[_]){for(var p=t.call(c,c.__data__,_,l),y,O=lt(c,n),T=0,I=p.length;T<I;++T)(y=p[T])&&de(y,e,n,T,p,O);a.push(p),o.push(c)}return new _t(a,o,e,n)}var no=Lt.prototype.constructor;function ro(){return new no(this._groups,this._parents)}function io(t,e){var n,r,i;return function(){var a=Pt(this,t),o=(this.style.removeProperty(t),Pt(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Yn(t){return function(){this.style.removeProperty(t)}}function ao(t,e,n){var r,i=n+"",a;return function(){var o=Pt(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function oo(t,e,n){var r,i,a;return function(){var o=Pt(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Pt(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}function so(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var l=pt(this,t),h=l.on,c=l.value[a]==null?s||(s=Yn(e)):void 0;(h!==n||i!==c)&&(r=(n=h).copy()).on(o,i=c),l.on=r}}function uo(t,e,n){var r=(t+="")=="transform"?ua:Ln;return e==null?this.styleTween(t,io(t,r)).on("end.style."+t,Yn(t)):typeof e=="function"?this.styleTween(t,oo(t,r,Le(this,"style."+t,e))).each(so(this._id,t)):this.styleTween(t,ao(t,r,e),n).on("end.style."+t,null)}function co(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function lo(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&co(t,o,n)),r}return a._value=e,a}function fo(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,lo(t,e,n??""))}function ho(t){return function(){this.textContent=t}}function po(t){return function(){var e=t(this);this.textContent=e??""}}function _o(t){return this.tween("text",typeof t=="function"?po(Le(this,"text",t)):ho(t==null?"":t+""))}function go(t){return function(e){this.textContent=t.call(this,e)}}function vo(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&go(i)),e}return r._value=t,r}function mo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,vo(t))}function yo(){for(var t=this._name,e=this._id,n=Fn(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,h=0;h<s;++h)if(l=o[h]){var c=lt(l,e);de(l,t,n,h,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new _t(r,this._parents,t,n)}function wo(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var h=pt(this,r),c=h.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),h.on=e}),i===0&&a()})}var xo=0;function _t(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Fn(){return++xo}var gt=Lt.prototype;_t.prototype={constructor:_t,select:to,selectAll:eo,selectChild:gt.selectChild,selectChildren:gt.selectChildren,filter:qa,merge:Ga,selection:ro,transition:yo,call:gt.call,nodes:gt.nodes,node:gt.node,size:gt.size,empty:gt.empty,each:gt.each,on:Za,attr:za,attrTween:ka,style:uo,styleTween:fo,text:_o,textTween:mo,remove:Qa,tween:Sa,delay:Ya,duration:Ha,ease:Ua,easeVarying:Wa,end:wo,[Symbol.iterator]:gt[Symbol.iterator]};function bo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Eo={time:null,delay:0,duration:250,ease:bo};function So(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function To(t){var e,n;t instanceof _t?(e=t._id,t=t._name):(e=Fn(),(n=Eo).time=Ie(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,h=0;h<s;++h)(l=o[h])&&de(l,t,e,h,o,n||So(l,e));return new _t(r,this._parents,t,e)}Lt.prototype.interrupt=xa,Lt.prototype.transition=To;const _e=t=>()=>t;function Ro(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function vt(t,e,n){this.k=t,this.x=e,this.y=n}vt.prototype={constructor:vt,scale:function(t){return t===1?this:new vt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new vt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qt=new vt(1,0,0);vt.prototype;function Ye(t){t.stopImmediatePropagation()}function Gt(t){t.preventDefault(),t.stopImmediatePropagation()}function Co(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Oo(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Xn(){return this.__zoom||qt}function Ao(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function No(){return navigator.maxTouchPoints||"ontouchstart"in this}function zo(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Hn(){var t=Co,e=Oo,n=zo,r=Ao,i=No,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=da,h=Se("start","zoom","end"),c,_,p,y=500,O=150,T=0,I=10;function x(f){f.property("__zoom",Xn).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",at).filter(i).on("touchstart.zoom",ft).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(f,v,d,m){var b=f.selection?f.selection():f;b.property("__zoom",Xn),f!==b?Q(f,v,d,m):b.interrupt().each(function(){V(this,arguments).event(m).start().zoom(null,typeof v=="function"?v.apply(this,arguments):v).end()})},x.scaleBy=function(f,v,d,m){x.scaleTo(f,function(){var b=this.__zoom.k,E=typeof v=="function"?v.apply(this,arguments):v;return b*E},d,m)},x.scaleTo=function(f,v,d,m){x.transform(f,function(){var b=e.apply(this,arguments),E=this.__zoom,S=d==null?W(b):typeof d=="function"?d.apply(this,arguments):d,z=E.invert(S),N=typeof v=="function"?v.apply(this,arguments):v;return n(C(L(E,N),S,z),b,o)},d,m)},x.translateBy=function(f,v,d,m){x.transform(f,function(){return n(this.__zoom.translate(typeof v=="function"?v.apply(this,arguments):v,typeof d=="function"?d.apply(this,arguments):d),e.apply(this,arguments),o)},null,m)},x.translateTo=function(f,v,d,m,b){x.transform(f,function(){var E=e.apply(this,arguments),S=this.__zoom,z=m==null?W(E):typeof m=="function"?m.apply(this,arguments):m;return n(qt.translate(z[0],z[1]).scale(S.k).translate(typeof v=="function"?-v.apply(this,arguments):-v,typeof d=="function"?-d.apply(this,arguments):-d),E,o)},m,b)};function L(f,v){return v=Math.max(a[0],Math.min(a[1],v)),v===f.k?f:new vt(v,f.x,f.y)}function C(f,v,d){var m=v[0]-d[0]*f.k,b=v[1]-d[1]*f.k;return m===f.x&&b===f.y?f:new vt(f.k,m,b)}function W(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function Q(f,v,d,m){f.on("start.zoom",function(){V(this,arguments).event(m).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(m).end()}).tween("zoom",function(){var b=this,E=arguments,S=V(b,E).event(m),z=e.apply(b,E),N=d==null?W(z):typeof d=="function"?d.apply(b,E):d,q=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),H=b.__zoom,G=typeof v=="function"?v.apply(b,E):v,K=l(H.invert(N).concat(q/H.k),G.invert(N).concat(q/G.k));return function(Z){if(Z===1)Z=G;else{var tt=K(Z),ot=q/tt[2];Z=new vt(ot,N[0]-tt[0]*ot,N[1]-tt[1]*ot)}S.zoom(null,Z)}})}function V(f,v,d){return!d&&f.__zooming||new D(f,v)}function D(f,v){this.that=f,this.args=v,this.active=0,this.sourceEvent=null,this.extent=e.apply(f,v),this.taps=0}D.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,v){return this.mouse&&f!=="mouse"&&(this.mouse[1]=v.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=v.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=v.invert(this.touch1[0])),this.that.__zoom=v,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var v=nt(this.that).datum();h.call(f,this.that,new Ro(f,{sourceEvent:this.sourceEvent,target:x,type:f,transform:this.that.__zoom,dispatch:h}),v)}};function A(f,...v){if(!t.apply(this,arguments))return;var d=V(this,v).event(f),m=this.__zoom,b=Math.max(a[0],Math.min(a[1],m.k*Math.pow(2,r.apply(this,arguments)))),E=wt(f);if(d.wheel)(d.mouse[0][0]!==E[0]||d.mouse[0][1]!==E[1])&&(d.mouse[1]=m.invert(d.mouse[0]=E)),clearTimeout(d.wheel);else{if(m.k===b)return;d.mouse=[E,m.invert(E)],pe(this),d.start()}Gt(f),d.wheel=setTimeout(S,O),d.zoom("mouse",n(C(L(m,b),d.mouse[0],d.mouse[1]),d.extent,o));function S(){d.wheel=null,d.end()}}function j(f,...v){if(p||!t.apply(this,arguments))return;var d=f.currentTarget,m=V(this,v,!0).event(f),b=nt(f.view).on("mousemove.zoom",N,!0).on("mouseup.zoom",q,!0),E=wt(f,d),S=f.clientX,z=f.clientY;Fi(f.view),Ye(f),m.mouse=[E,this.__zoom.invert(E)],pe(this),m.start();function N(H){if(Gt(H),!m.moved){var G=H.clientX-S,K=H.clientY-z;m.moved=G*G+K*K>T}m.event(H).zoom("mouse",n(C(m.that.__zoom,m.mouse[0]=wt(H,d),m.mouse[1]),m.extent,o))}function q(H){b.on("mousemove.zoom mouseup.zoom",null),Xi(H.view,m.moved),Gt(H),m.event(H).end()}}function at(f,...v){if(t.apply(this,arguments)){var d=this.__zoom,m=wt(f.changedTouches?f.changedTouches[0]:f,this),b=d.invert(m),E=d.k*(f.shiftKey?.5:2),S=n(C(L(d,E),m,b),e.apply(this,v),o);Gt(f),s>0?nt(this).transition().duration(s).call(Q,S,m,f):nt(this).call(x.transform,S,m,f)}}function ft(f,...v){if(t.apply(this,arguments)){var d=f.touches,m=d.length,b=V(this,v,f.changedTouches.length===m).event(f),E,S,z,N;for(Ye(f),S=0;S<m;++S)z=d[S],N=wt(z,this),N=[N,this.__zoom.invert(N),z.identifier],b.touch0?!b.touch1&&b.touch0[2]!==N[2]&&(b.touch1=N,b.taps=0):(b.touch0=N,E=!0,b.taps=1+!!c);c&&(c=clearTimeout(c)),E&&(b.taps<2&&(_=N[0],c=setTimeout(function(){c=null},y)),pe(this),b.start())}}function P(f,...v){if(this.__zooming){var d=V(this,v).event(f),m=f.changedTouches,b=m.length,E,S,z,N;for(Gt(f),E=0;E<b;++E)S=m[E],z=wt(S,this),d.touch0&&d.touch0[2]===S.identifier?d.touch0[0]=z:d.touch1&&d.touch1[2]===S.identifier&&(d.touch1[0]=z);if(S=d.that.__zoom,d.touch1){var q=d.touch0[0],H=d.touch0[1],G=d.touch1[0],K=d.touch1[1],Z=(Z=G[0]-q[0])*Z+(Z=G[1]-q[1])*Z,tt=(tt=K[0]-H[0])*tt+(tt=K[1]-H[1])*tt;S=L(S,Math.sqrt(Z/tt)),z=[(q[0]+G[0])/2,(q[1]+G[1])/2],N=[(H[0]+K[0])/2,(H[1]+K[1])/2]}else if(d.touch0)z=d.touch0[0],N=d.touch0[1];else return;d.zoom("touch",n(C(S,z,N),d.extent,o))}}function Y(f,...v){if(this.__zooming){var d=V(this,v).event(f),m=f.changedTouches,b=m.length,E,S;for(Ye(f),p&&clearTimeout(p),p=setTimeout(function(){p=null},y),E=0;E<b;++E)S=m[E],d.touch0&&d.touch0[2]===S.identifier?delete d.touch0:d.touch1&&d.touch1[2]===S.identifier&&delete d.touch1;if(d.touch1&&!d.touch0&&(d.touch0=d.touch1,delete d.touch1),d.touch0)d.touch0[1]=this.__zoom.invert(d.touch0[0]);else if(d.end(),d.taps===2&&(S=wt(S,this),Math.hypot(_[0]-S[0],_[1]-S[1])<I)){var z=nt(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return x.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:_e(+f),x):r},x.filter=function(f){return arguments.length?(t=typeof f=="function"?f:_e(!!f),x):t},x.touchable=function(f){return arguments.length?(i=typeof f=="function"?f:_e(!!f),x):i},x.extent=function(f){return arguments.length?(e=typeof f=="function"?f:_e([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),x):e},x.scaleExtent=function(f){return arguments.length?(a[0]=+f[0],a[1]=+f[1],x):[a[0],a[1]]},x.translateExtent=function(f){return arguments.length?(o[0][0]=+f[0][0],o[1][0]=+f[1][0],o[0][1]=+f[0][1],o[1][1]=+f[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(f){return arguments.length?(n=f,x):n},x.duration=function(f){return arguments.length?(s=+f,x):s},x.interpolate=function(f){return arguments.length?(l=f,x):l},x.on=function(){var f=h.on.apply(h,arguments);return f===h?x:f},x.clickDistance=function(f){return arguments.length?(T=(f=+f)*f,x):Math.sqrt(T)},x.tapDistance=function(f){return arguments.length?(I=+f,x):I},x}const et={DEFAULT_MIN_ZOOM:.1,DEFAULT_MAX_ZOOM:4,FIT_TO_VIEW_MAX_ZOOM:1,ZOOM_RATIO:.5,TIME_FRAME:500,INITIAL_POSITION_X:0,INITIAL_POSITION_Y:0,SCROLL_POS_RATIO:3,LAYOUT_FALLBACK:500,DEFAULT_LAYOUT:1e6,INITIAL_SCROLLBAR_SIZE:50,MIN_SCROLLBAR_SIZE:15,SCROLL_DELTA_DIFF:1.5,NODE_Y_OFFSET:110},Bt={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center"},ut={...Bt,TOP_CENTER:"top-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_RIGHT:"center-right",CENTER_CENTER:"center-center"},Kt=({value:t,min:e=0,max:n})=>Math.min(Math.max(t,e),n),Po=({position:t,svgBounds:e,nodeBounds:n,currentTranslateX:r,currentTranslateY:i,currentScale:a,updatedScale:o,customOffset:s})=>{let[l,h,c]=[0,0,1];switch(o!==a&&(c=o/a,r*=c,i*=c),t){case ut.TOP_LEFT:return{updatedX:r+((e.x-n.x)*c+s.x),updatedY:i+((e.y-n.y)*c+s.y)};case ut.TOP_CENTER:return l=e.width/2-(n.x*c+n.width*c/2)+e.x,{updatedX:r+l+s.x,updatedY:i+((e.y-n.y)*c+s.y)};case ut.TOP_RIGHT:return{updatedX:r+(e.width-(Math.abs(e.x-n.x*c)+n.width*c))+s.x,updatedY:i+((e.y-n.y)*c+s.y)};case ut.CENTER_LEFT:return h=e.height/2-(Math.abs(e.y-n.y)*c+n.height*c/2),{updatedX:r+((e.x-n.x)*c+s.x),updatedY:i+h+s.y};case ut.CENTER_CENTER:return l=e.width/2-(Math.abs(e.x-n.x)*c+n.width*c/2),h=e.height/2-(Math.abs(e.y-n.y)*c+n.height*c/2),{updatedX:r+l+s.x,updatedY:i+h+s.y};case ut.CENTER_RIGHT:return h=e.height/2-(Math.abs(e.y-n.y)*c+n.height*c/2),{updatedX:r+(e.width-(Math.abs(e.x-n.x)*c+n.width*c))+s.x,updatedY:i+h+s.y};case ut.BOTTOM_LEFT:return{updatedX:r+((e.x-n.x)*c+s.x),updatedY:i+(e.height-(Math.abs(e.y-n.y)*c+n.height*c))+s.y};case ut.BOTTOM_CENTER:return l=e.width/2-(Math.abs(e.x-n.x)*c+n.width*c/2),{updatedX:r+l+s.x,updatedY:i+(e.height-(Math.abs(e.y-n.y)*c+n.height*c))+s.y};case ut.BOTTOM_RIGHT:return{updatedX:r+(e.width-(Math.abs(e.x-n.x)*c+n.width*c))+s.x,updatedY:i+(e.height-(Math.abs(e.y-n.y)*c+n.height))+s.y};default:return{updatedX:r,updatedY:i}}},jn=t=>{const[e,n]=[Math.max(t-.2,.2),t];return[et.INITIAL_SCROLLBAR_SIZE/e,et.INITIAL_SCROLLBAR_SIZE/n]},Io=({isVertical:t,state:e,scrollDelta:n})=>{const r=t?e.verticalPos:e.horizontalPos,i=t?e.verticalSize:e.horizontalSize,a=t?e.verticalSizeDecrease:e.horizontalSizeDecrease,o=t?n.deltaY:n.deltaX;return{scrollPos:r,scrollSize:i,scrollSizeDecrease:a,deltaValue:o}},Un=({isVertical:t=!0,state:e,scrollDelta:n,scrollLength:r})=>{const{scrollPos:i,scrollSize:a,scrollSizeDecrease:o,deltaValue:s}=Io({isVertical:t,state:e,scrollDelta:n}),l=s/10||0,h=s/100||0;let[c,_]=[i+l,o];if(c<1)c=0,_-=Math.abs(h);else if(c+a>r){const p=r-Math.max(et.MIN_SCROLLBAR_SIZE,a-Math.abs(_));c=Math.min(r-(a+_),p),_-=h}else if(_!==0){const p=c>r/2;c=p?r-a:0,p?(_-=h,_<=0&&(_=0)):(_+=Math.abs(h),_>=0&&(_=0))}return[c,_]},Mo={dotSvgContainer:"_dotSvgContainer_64xbd_1"},Vn=({id:t="",size:e=1,minSize:n=.3,maxZoom:r=4,gap:i=20,zoomTransform:a={scale:1,translateX:0,translateY:0},className:o="",minOpacity:s=.8,maxOpacity:l=1,elementColor:h="#afb7c7"})=>{const{scale:c,translateX:_,translateY:p}=a,y=Kt({value:c*10/(r*10),min:s,max:l}),O=i*c,T=e*c,I=Math.max(n,T),x=`patternId-${t}`;return U.jsxs("svg",{className:`${o} ${Mo.dotSvgContainer}`,children:[U.jsx("pattern",{id:x,x:_%O,y:p%O,width:O,height:O,patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T},-${T})`,children:U.jsx("circle",{cx:I,cy:I,r:I,fill:h,opacity:y})}),U.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${x})`})]})},Rt={container:"_container_1xxyl_1",canvasWrapper:"_canvasWrapper_1xxyl_8",panning:"_panning_1xxyl_21",canvas:"_canvas_1xxyl_8",contentWrapper:"_contentWrapper_1xxyl_39"},Wn={verticalScrollBar:"_verticalScrollBar_17thb_1",horizontalScrollBar:"_horizontalScrollBar_17thb_9"},Do=M.forwardRef(({scale:t,startingPosition:e,offset:n={x:0,y:0},color:r="gray",thickness:i="8px",minSize:a="15px",verticalOffsetHeight:o,horizontalOffsetWidth:s,onScrollDeltaHandler:l,getContainerOffset:h},c)=>{const[_,p]=jn(t),y=M.useRef(null),O=M.useRef(null),T=M.useRef({isDragging:!1,vertical:!0,initialOffset:0}),[I,x]=M.useState({scale:t,horizontalSize:p,horizontalPos:e?e.x:(s??0)/et.SCROLL_POS_RATIO,horizontalSizeDecrease:0,verticalSize:_,verticalPos:e?e.y:(o??0)/et.SCROLL_POS_RATIO,verticalSizeDecrease:0});M.useImperativeHandle(c,()=>({resetScrollPos:()=>{x(D=>({...D,horizontalPos:(s??0)/et.SCROLL_POS_RATIO,verticalPos:(o??0)/et.SCROLL_POS_RATIO,verticalSizeDecrease:0,horizontalSizeDecrease:0}))},onScrollDeltaChangeHandler:L,onMouseUp:W})),M.useEffect(function(){x(A=>{let j;const[at,ft]=jn(t),P=t/A.scale||0;return t<A.scale?j={horizontalPos:A.horizontalPos-P,verticalPos:A.verticalPos-P}:j={horizontalPos:A.horizontalPos+P,verticalPos:A.verticalPos+P},{...A,scale:t,horizontalSize:ft,verticalSize:at,...j}})},[t]);function L(D){T.current.isDragging||x(A=>{const[j,at]=Un({state:A,scrollDelta:D,scrollLength:o}),[ft,P]=Un({isVertical:!1,state:A,scrollDelta:D,scrollLength:s});return{...A,horizontalPos:ft,horizontalSizeDecrease:P,verticalPos:j,verticalSizeDecrease:at}})}const C=M.useCallback(function(A,j){if(!T.current.isDragging)return;A.stopPropagation();const{movementX:at,movementY:ft,clientX:P,clientY:Y,offsetX:f,offsetY:v}=A;T.current.initialOffset<1&&(T.current.initialOffset=j?v:f);const d=j?ft:at,m=(j?Y:P)-T.current.initialOffset-h(j),b=N=>j?["verticalPos",N.verticalSize,o,n.y]:["horizontalPos",N.horizontalSize,s,n.x];x(N=>{const[q,H,G,K]=b(N);return{...N,[q]:Kt({value:m,min:K,max:G-H})}});const E=()=>{const N=d>0?d+et.SCROLL_DELTA_DIFF:d-et.SCROLL_DELTA_DIFF;return j?{deltaX:0,deltaY:N}:{deltaX:N,deltaY:0}},S=(j?o:s)-(j?I.verticalSize:I.horizontalSize);!(m<=0||m>=S)&&d!==0&&l(E())},[o,s,n.y,n.x]),W=M.useCallback(function(){T.current.isDragging=!1,T.current.initialOffset=0,window.removeEventListener("mousemove",A=>C(A,T.current.vertical)),window.removeEventListener("mouseup",W)},[C]),Q=M.useCallback(function(){window.addEventListener("mousemove",A=>C(A,T.current.vertical)),window.addEventListener("mouseup",W)},[C,W]),V=D=>{D.stopPropagation()};return U.jsxs(M.Fragment,{children:[U.jsx("div",{className:Wn.verticalScrollBar,style:{width:i},ref:y,children:U.jsx("div",{"data-id":"vertical-scrollbar",style:{insetBlockStart:`${Kt({value:I.verticalPos,min:n.y,max:o})}px`,height:`${I.verticalSize+I.verticalSizeDecrease}px`,background:r,minHeight:a},onMouseDownCapture:D=>{D.stopPropagation(),T.current={...T.current,isDragging:!0,vertical:!0},Q()},onDragEnterCapture:V,onDragCapture:V,onDragEndCapture:V})}),U.jsx("div",{className:Wn.horizontalScrollBar,ref:O,style:{height:i},children:U.jsx("div",{"data-id":"horizontal-scrollbar",style:{insetInlineStart:`${Kt({value:I.horizontalPos,min:n.x,max:s})}px`,width:`${I.horizontalSize+I.horizontalSizeDecrease}px`,background:r,minWidth:a},onMouseDownCapture:D=>{D.stopPropagation(),T.current={...T.current,isDragging:!0,vertical:!1},Q()},onDragEnterCapture:V,onDragCapture:V,onDragEndCapture:V})})]})}),Fe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Xe=Fe?600:300,ko=M.forwardRef(({children:t,...e},n)=>{const r=M.useRef(null);return U.jsx($o,{innerRef:n,...e,children:U.jsx("div",{ref:r,style:{width:"max-content",height:"max-content"},children:t})})}),$o=M.memo(({children:t,innerRef:e,minZoom:n=et.DEFAULT_MIN_ZOOM,maxZoom:r=et.DEFAULT_MAX_ZOOM,panOnScroll:i=!0,customComponents:a=[],renderScrollBar:o=!0,scrollBarConfig:s={},backgroundConfig:l={},onCanvasMount:h=()=>{}})=>{const c=M.useRef(null),_=M.useRef(null),p=M.useRef(null),y=M.useRef(null),O=M.useRef(null),T=t.ref,I=M.useRef(null),x=M.useMemo(()=>Hn().scaleExtent([n,r]),[r,n]),L=M.useRef(nt(p.current).call(x)),[C,W]=M.useState({translateX:0,translateY:0,scale:1});M.useImperativeHandle(e,()=>({scrollNodeToCenter:({nodeElement:P,offset:Y,scale:f,shouldUpdateMaxScale:v,maxScale:d,transitionDuration:m})=>D({nodeElement:P,offset:Y,scale:f,shouldUpdateMaxScale:v,maxScale:d,transitionDuration:m,position:ut.CENTER_CENTER}),scrollNodeHandler:D,scrollContentHorizontallyCenter:A,fitContentToView:V,getCanvasState:j})),M.useEffect(function(){L.current=nt(p.current).call(x);const Y=nt(y.current);_.current=c.current?c.current.getBoundingClientRect():{},x.filter(f=>(f.type==="mousedown"&&!I.current&&(I.current=!0,at()),f.ctrlKey||f.type!=="wheel")).on("zoom",f=>{var S,z;((S=f.sourceEvent)==null?void 0:S.ctrlKey)===!1&&f.type==="zoom"&&((z=c.current)==null||z.classList.add(Rt.panning));const v=f.transform,{x:d,y:m,k:b}=v,E=y.current;W({translateX:d,translateY:m,scale:b}),Fe&&E?E.style.transform=`translate(${d}px, ${m}px) scale(${b})`:Y.attr("transform",v)}),x.on("end",()=>{var f;I.current=!1,(f=c.current)==null||f.classList.remove(Rt.panning)}),h({scrollNodeToCenter:({nodeElement:f,offset:v,scale:d,shouldUpdateMaxScale:m,maxScale:b,transitionDuration:E})=>D({nodeElement:f,offset:v,scale:d,shouldUpdateMaxScale:m,maxScale:b,transitionDuration:E,position:ut.CENTER_CENTER}),scrollNodeHandler:D,scrollContentHorizontallyCenter:A,fitContentToView:V,getCanvasState:j})},[]),L.current.call(Hn).on("wheel.zoom",P=>{var f;P.preventDefault();const Y=L.current.property("__zoom").k||1;if(i&&!P.ctrlKey){const v={deltaX:P.deltaX,deltaY:P.deltaY};(f=O.current)==null||f.onScrollDeltaChangeHandler(v),Q(v)}else{const v=Y*Math.pow(2,-P.deltaY*.01);x.scaleTo(L.current,v,wt(P))}},{passive:!1,capture:!0});const Q=P=>{const Y=L.current.property("__zoom").k||1;x.translateBy(L.current,-(P.deltaX/Y),-(P.deltaY/Y))},V=M.useCallback(function({duration:Y=500,offset:f={x:0,y:0},scale:v,maxZoomLimit:d=et.FIT_TO_VIEW_MAX_ZOOM,disableVerticalCenter:m=!1}){requestIdleCallback(()=>{var Nt,ve;if(!T.current)return;const b=nt(p.current),E=T.current.getBoundingClientRect(),S=L.current.property("__zoom").k||1,z=(Nt=p.current)==null?void 0:Nt.getBoundingClientRect(),{width:N=0,height:q=0}=z||{},H=1/S,G=E.width*H,K=E.height*H,Z=q/K,tt=N/G,ot=v??Kt({value:Math.min(d,Math.min(Z,tt)),min:n,max:r}),bt=N-G*ot,Dt=q-K*ot,Ct=!m&&Z>tt,Ot=bt/2,He=Ct?Dt/2:0,At=Ot+f.x,Zt=He+f.y,ge=qt.translate(At,Zt).scale(ot);W({translateX:At,translateY:Zt,scale:ot}),(ve=O.current)==null||ve.resetScrollPos(),b.transition().duration(Y).call(x.transform,ge)},{timeout:Xe})},[r,n]),D=({nodeElement:P,offset:Y={x:0,y:0},scale:f,shouldUpdateMaxScale:v=!0,maxScale:d,transitionDuration:m=300,position:b=ut.TOP_CENTER})=>{requestIdleCallback(()=>{if(!P)return;const E=L.current.property("__zoom"),{k:S,x:z,y:N}=E,q=nt(p.current),G=(()=>{const Dt=Ot=>d?Math.min(d,Ot):Ot;if(!f)return Dt(S);let Ct=f;return v&&(Ct=Math.max(f,S)),Dt(Ct)})(),K=p.current.getBoundingClientRect(),Z=P.getBoundingClientRect(),{updatedX:tt,updatedY:ot}=Po({position:b,svgBounds:K,nodeBounds:Z,currentTranslateX:z,currentTranslateY:N,currentScale:S,updatedScale:G,customOffset:{x:Y.x,y:Y.y}}),bt=qt.translate(tt,ot).scale(G);q.transition().duration(m).call(x.transform,bt)},{timeout:Xe})},A=({offset:P=0,transitionDuration:Y=300})=>{T.current&&requestIdleCallback(()=>{const f=L.current.property("__zoom"),{k:v,y:d}=f,m=nt(p.current),b=p.current.getBoundingClientRect(),E=T.current.getBoundingClientRect(),S=1/v,z=E.width*S,N=(b.width-z*v)/2+P;W({...C,translateX:N});const q=qt.translate(N,d).scale(v);m.transition().duration(Y).call(x.transform,q)},{timeout:Xe})},j=()=>({canvasNode:nt(p.current),zoomNode:nt(y.current),currentPosition:L.current.property("__zoom"),d3Zoom:x}),at=()=>{const P=document.body;if(P){const Y=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window});P.dispatchEvent(Y)}},ft=M.useCallback(function(Y=!0){const{x:f,y:v}=_.current;return Y?v:f},[]);return U.jsxs("div",{className:Rt.container,children:[U.jsx("div",{ref:c,className:Rt.canvasWrapper,children:Fe?U.jsx("div",{ref:p,className:Rt.canvas,children:U.jsx("div",{ref:y,children:U.jsx("div",{className:Rt.contentWrapper,children:t})})}):U.jsx("svg",{ref:p,className:Rt.canvas,children:U.jsx("g",{ref:y,children:U.jsx("foreignObject",{x:et.INITIAL_POSITION_X,y:et.INITIAL_POSITION_Y,width:et.DEFAULT_LAYOUT,height:et.DEFAULT_LAYOUT,children:t})})})}),U.jsx(Vn,{maxZoom:r,zoomTransform:C,...l}),o&&c.current&&U.jsx(Do,{ref:O,scale:C.scale,...s,verticalOffsetHeight:c.current.offsetHeight,horizontalOffsetWidth:c.current.offsetWidth,getContainerOffset:ft,onScrollDeltaHandler:Q}),a.map((P,Y)=>{const{component:f,position:v=Bt.BOTTOM_LEFT,offset:d={x:0,y:0},overlap:m=!0,className:b=""}=P;return U.jsx(Lo,{component:f,position:v,offset:d,overlap:m,zoomState:{...C,minZoom:n,maxZoom:r},className:b},Y)})]})}),Lo=({component:t,position:e,offset:n,overlap:r,zoomState:i,className:a})=>{const o=M.useMemo(()=>{const l=Object.values(Bt).includes(e)?e:Bt.BOTTOM_LEFT,[h,c]=l.split("-");return{[c]:n.x,[h]:n.y}},[e,n]),s=M.cloneElement(t,{zoomState:i});return U.jsx("div",{style:{position:"absolute",...o,zIndex:r?20:1},className:a,children:s})};ht.Background=Vn,ht.COMPONENT_POSITIONS=Bt,ht.ReactInfiniteCanvas=ko,ht.SCROLL_NODE_POSITIONS=ut,Object.defineProperty(ht,Symbol.toStringTag,{value:"Module"})});
